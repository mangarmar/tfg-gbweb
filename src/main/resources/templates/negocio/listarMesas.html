<!DOCTYPE html >
<html xmlns:th="http://www.thymeleaf.org"
	xmlns:sec="http://www.thymeleaf.org">
<head>
<meta charset="utf-8">
<link rel="stylesheet" th:href="@{/css/formUser.css}" />
<link rel="stylesheet" th:href="@{/css/style.css}" />
<title>Productos</title>
</head>

<body>

	<header th:replace="comun/header.html::header"></header>
	<div>
		<h1 th:text="${nombreNegocio}"></h1>
	</div>
	<a class="back-button" th:href="@{/listarNegocios}">Volver</a>
	<a sec:authorize="hasAuthority('GERENTE')" class="button" th:href="@{/mesas/a침adirMesa/} + ${idNegocio}">A침adir
		mesa</a>

	<table id="customers">
		<tr>
			<th>C칩digo</th>
			<th>Estado</th>
			<th sec:authorize="hasAuthority('GERENTE')">Cambiar estado</th>
			<th sec:authorize="hasAuthority('GERENTE')">Otros</th>
			<th sec:authorize="hasAuthority('CLIENTE')">Opciones</th>
		</tr>
		<tr th:each="mesa : ${mesas}">
			<td th:text="${mesa.codigo}"></td>
			<td th:text="${mesa.estado}"></td>
			<td sec:authorize="hasAuthority('GERENTE')">
				<a th:if="${mesa.estado.toString()}=='OCUPADA' or ${mesa.estado.toString()}=='PENDIENTE'" class=center-button
				th:href="@{/mesas/mesaLibre/} + ${idNegocio} + '/' + ${mesa.id}">Libre</a>
				<a th:if="${mesa.estado.toString()}=='LIBRE' or ${mesa.estado.toString()}=='PENDIENTE'" class=center-button
				th:href="@{/mesas/mesaOcupada/} + ${idNegocio} + '/' + ${mesa.id}">Ocupada</a></td>
			<td sec:authorize="hasAuthority('GERENTE')">
				<a class=center-button
				th:href="@{/mesas/eliminarMesa/} + ${idNegocio} + '/' + ${mesa.id}">Eliminar</a></td>
			<td sec:authorize="hasAuthority('CLIENTE')">
				<a th:if="${mesa.estado.toString()} == 'LIBRE'" class=center-button
				th:href="@{/mesas/solicitar/} + ${idNegocio} + '/' + ${mesa.id}">Solicitar mesa</a>
				<h4 th:if="${mesa.estado.toString()} == 'PENDIENTE'">Mesa pendiente de aprobaci칩n</h4></td>
			
		</tr>

	</table>

</body>
</html>